#export .Actor_RedGoomba 00000000
#export .Actor_RedParagoomba 00000001
#export .Actor_Goomba 00000007
#export .Actor_Paragoomba 00000008
#export .Actor_SpikedGoomba 00000009
#export .Actor_KoopaTroopa 0000000B
#export .Actor_Paratroopa 0000000C
#export .Actor_Bandit 00000013
#export .Actor_PokeyMummy 00000015
#export .Actor_Swooper 00000016
#export .Actor_BuzzyBeetle 00000017
#export .Actor_PiranhaPlant 00000019
#export .Actor_ForestFuzzy 0000001A
#export .Actor_Clubba 0000001E
#export .Actor_ShyGuy 0000001F
#export .Actor_SkyGuy 00000021
#export .Actor_MediGuy 00000022
#export .Actor_PyroGuy 00000023
#export .Actor_SpyGuy 00000024
#export .Actor_HurtPlant 00000026
#export .Actor_MBush 00000027
#export .Actor_JungleFuzzy 00000029
#export .Actor_SpearGuy 0000002A
#export .Actor_LavaBubble 0000002B
#export .Actor_SpikeTop 0000002C
#export .Actor_PutridPiranha 0000002D
#export .Actor_Lakitu 0000002E
#export .Actor_Spiny 0000002F
#export .Actor_Bzzap 00000031
#export .Actor_CrazeeDayzee 00000032
#export .Actor_RuffPuff 00000034
#export .Actor_Gulpit 00000036
#export .Actor_WhiteClubba 00000038
#export .Actor_FrostPiranha 00000039
#export .Actor_Swoopula 0000003A
#export .Actor_Duplighost 0000003B
#export .Actor_Ember 00000045
#export .Actor_BonyBeetle 00000046
#export .Actor_DryBones 00000047
#export .Actor_HammerBros 0000004B
#export .Actor_Koopatrol 0000004C
#export .Actor_YMagikoopa 00000055
#export .Actor_GRYMagikoopa 00000057
#export .Actor_Bleft 0000005B
#export .Actor_PoisonFuzzy 000000D4
#export .Actor_PoisonPuff 000000D5
#export .Actor_InfernoGuy 000000D6
#export .Actor_BlackMagikoopa 000000D7
#export .Actor_NegativeChomp 000000D8
#export .Actor_Bonetail 000000D9
#export .Actor_RubyKing 000000DC
#export .Actor_RubyBit 000000DE
#export .Actor_MelanoDino 000000E0
#export .Actor_Guzzar 000000E1
#export .Actor_Glooper 000000E2
#export .Actor_GlooperBaby 000000E3
#export .Actor_KingGoombaBP 000000E4
#export .Actor_BlackGoomba 000000E5
#export .Actor_KoopaBrosBP 000000E6
#export .Actor_TutanKoopaBP 000000E7
#export .Actor_TubbaBP 000000E8
#export .Actor_LanternGhostBP 000000E9
#export .Actor_GeneralGuyBP 000000EA
#export .Actor_ToyTankBP 000000EB
#export .Actor_LightBulbBP 000000EC
#export .Actor_KentCKoopaBP 000000ED
#export .Actor_LavaPiranhaBP 000000EE
#export .Actor_PetitPiranhaBP 000000EF
#export .Actor_LavaBudBP 000000F0
#export .Actor_HuffNPuffBP 000000F1
#export .Actor_TuffPuffBP 000000F2
#export .Actor_BowserBP 000000F3
#export .Actor_Dimentio 000000F4

#export:Data $TattleActorIDList {
    .Actor_RedGoomba %00
    .Actor_RedParagoomba %01
    .Actor_Goomba %07
    .Actor_Paragoomba %08
    .Actor_SpikedGoomba %09
    .Actor_KoopaTroopa %0B
    .Actor_Paratroopa %0C
    .Actor_Bandit %13
    .Actor_PokeyMummy %15
    .Actor_Swooper %16
    .Actor_BuzzyBeetle %17
    .Actor_PiranhaPlant %19
    .Actor_ForestFuzzy %1A
    .Actor_Clubba %1E
    .Actor_ShyGuy %1F
    .Actor_SkyGuy %21
    .Actor_MediGuy %22
    .Actor_PyroGuy %23
    .Actor_SpyGuy %24
    .Actor_HurtPlant %26
    .Actor_MBush %27
    .Actor_JungleFuzzy %29
    .Actor_SpearGuy %2A
    .Actor_LavaBubble %2B
    .Actor_SpikeTop %2C
    .Actor_PutridPiranha %2D
    .Actor_Lakitu %2E
    .Actor_Spiny %2F
    .Actor_Bzzap %31
    .Actor_CrazeeDayzee %32
    .Actor_RuffPuff %34
    .Actor_Gulpit %36
    .Actor_WhiteClubba %38
    .Actor_FrostPiranha %39
    .Actor_Swoopula %3A
    .Actor_Duplighost %3B
    .Actor_Ember %45
    .Actor_BonyBeetle %46
    .Actor_DryBones %47
    .Actor_HammerBros %4B
    .Actor_Koopatrol %4C
    .Actor_YMagikoopa %55
    .Actor_GRYMagikoopa %57
    .Actor_Bleft %5B
    .Actor_PoisonFuzzy %D4
    .Actor_PoisonPuff %D5
    .Actor_InfernoGuy %D6
    .Actor_BlackMagikoopa %D7
    .Actor_NegativeChomp %D8
    .Actor_Bonetail %D9
    .Actor_RubyKing %DC
    .Actor_RubyBit %DE
    .Actor_MelanoDino %E0
    .Actor_Guzzar %E1
    .Actor_Glooper %E2
    .Actor_GlooperBaby %E3
    .Actor_KingGoombaBP %E4
    .Actor_BlackGoomba %E5
    .Actor_KoopaBrosBP %E6
    .Actor_TutanKoopaBP %E7
    .Actor_TubbaBP %E8
    .Actor_LanternGhostBP %E9
    .Actor_ToyTankBP %EB
    .Actor_KentCKoopaBP %ED
    .Actor_LavaPiranhaBP %EE
    .Actor_PetitPiranhaBP %EF
    .Actor_LavaBudBP %F0
    .Actor_HuffNPuffBP %F1
    .Actor_TuffPuffBP %F2
    .Actor_BowserBP %F3
    .Actor_Dimentio %F4
    FFFFFFFF
}

#new:Function $CheckTattleFlag {
    LIO t0, 800DBEDD
    SRL t1, a0, 3 %divide by 8
    ANDI t3, a0, 7
    ADDU t0, t0, t1
    LBU t2, 0000 (t0)
    ORI t4, r0, 1
    SLLV t4, t4, t3
    AND t4, t2, t4
    ORI v0, r0, 1
    BEQL t4, r0, .isZero
    ORI v0, r0, 0
    .isZero
    JR RA
    NOP
}

#export:Function $GetTotalTattleCount {
    PUSH s0, s1, ra
    DADDU s0, r0, r0
    LIO s1, $TattleActorIDList
    %loop
    .loop
    SLL a0, s0, 2 %multiply loop iterator by 4
    ADDU a0, a0, s1
    LW a0, 0000 (a0)
    ADDIU t0, r0, FFFF
    BEQ t0, a0, .exit
    NOP
    BEQ r0, r0, .loop
    ADDIU s0, s0, 1
    .exit
    ADDU v0, s0, r0
    JPOP s0, s1, ra
}

#export:Function $GetTotalTattlesCollected {
    PUSH s0, s1, s2, ra
    DADDU s0, r0, r0
    LIO s1, $TattleActorIDList
    LIO s2, 0 %total tattles
    %loop
    .loop
    SLL a0, s0, 2 %multiply loop iterator by 4
    ADDU a0, a0, s1
    LW a0, 0000 (a0)
    ADDIU t0, r0, FFFF
    BEQ t0, a0, .exit
    NOP
    JAL $CheckTattleFlag
    NOP
    ADDU s2, s2, v0
    BEQ r0, r0, .loop
    ADDIU s0, s0, 1
    .exit
    ADDU v0, s2, r0
    JPOP s0, s1, s2, ra
}